cmake_minimum_required(VERSION 2.8.11)
project(forward-epics-to-kafka)

set(REQUIRE_GTEST false CACHE BOOL "Require Google Test")
if (REQUIRE_GTEST)
    if (NOT DEFINED path_gtest)
        set(path_gtest "../googletest googletest")
    endif()
    add_subdirectory(${path_gtest})
endif()

add_subdirectory(src)

option(RUN_DOXYGEN "Run doxygen" TRUE)
if (RUN_DOXYGEN)
configure_file(Doxygen.conf dg.conf)
add_custom_target(docs COMMAND doxygen dg.conf DEPENDS forward-epics-to-kafka)
endif()
